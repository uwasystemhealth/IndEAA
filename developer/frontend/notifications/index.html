
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../../../images/shl.png" rel="shortcut icon"/>
<meta content="mkdocs-1.1.2, mkdocs-material-6.2.6" name="generator"/>
<title>Notifications with Redux Saga - IndEAA Documentation</title>
<link href="../../../assets/stylesheets/main.cb6bc1d0.min.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/palette.39b8e14a.min.css" rel="stylesheet"/>
<meta content="#795649" name="theme-color"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
<!-- Add custom analytics integration here -->
</head>
<body data-md-color-accent="" data-md-color-primary="brown" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#notifications-with-redux-saga">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<!--
  Copyright (c) 2016-2020 Martin Donath <martin.donath@squidfunk.com>.
  Modified by Frinze Erin Lapuz < https://github.com/frinzekt > for his own template
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->
<!-- Application header -->
<header class="md-header" data-md-component="header">
<!-- Top-level navigation -->
<nav aria-label="Header" class="md-header-nav md-grid">
<!-- Link to home -->
<a aria-label="IndEAA Documentation" class="md-header-nav__button md-logo" href="../../.." title="IndEAA Documentation">
<img alt="logo" src="../../../images/shl.png"/>
</a>
<!-- Button to open drawer -->
<label class="md-header-nav__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<!-- Header title -->
<div class="md-header-nav__title" data-md-component="header-title">
<div class="md-header-nav__ellipsis">
<span class="md-header-nav__topic md-ellipsis">
            IndEAA Documentation
          </span>
<span class="md-header-nav__topic md-ellipsis">
            
              Notifications with Redux Saga
            
          </span>
</div>
</div>
<!-- Button to open search dialogue -->
<label class="md-header-nav__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<!-- Search interface -->
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" data-md-state="active" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<button aria-label="Clear" class="md-search__icon md-icon" data-md-component="search-reset" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<!-- Repository containing source -->
<div class="md-header-nav__source">
<a class="md-source" href="https://github.com/uwasystemhealth/IndEAA/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-tabs__inner md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../..">
      Overview
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../coordinator/">
        Coordinator
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../reviewer/">
        Reviewer
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../administrator/">
        Administrator
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="../../">
        Developer
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../changelog/">
      Changelog
    </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<!--
  Copyright (c) 2016-2020 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->
<!-- Main navigation -->
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<!-- Site title -->
<label class="md-nav__title" for="__drawer">
<a aria-label="IndEAA Documentation" class="md-nav__button md-logo" href="../../.." title="IndEAA Documentation">
<img alt="logo" src="../../../images/shl.png"/>
</a>
    IndEAA Documentation
  </label>
<!-- Repository containing source -->
<div class="md-nav__source">
<a class="md-source" href="https://github.com/uwasystemhealth/IndEAA/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<!-- Render item list -->
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../..">
        Overview
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" id="nav-2" type="checkbox"/>
<label class="md-nav__link" for="nav-2">
        Coordinator
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Coordinator" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-2">
<span class="md-nav__icon md-icon"></span>
          Coordinator
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../coordinator/">
        Introduction
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" id="nav-3" type="checkbox"/>
<label class="md-nav__link" for="nav-3">
        Reviewer
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Reviewer" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-3">
<span class="md-nav__icon md-icon"></span>
          Reviewer
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../reviewer/">
        Introduction
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" id="nav-4" type="checkbox"/>
<label class="md-nav__link" for="nav-4">
        Administrator
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Administrator" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-4">
<span class="md-nav__icon md-icon"></span>
          Administrator
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../administrator/">
        Introduction
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="nav-5" id="nav-5" type="checkbox"/>
<label class="md-nav__link" for="nav-5">
        Developer
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Developer" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-5">
<span class="md-nav__icon md-icon"></span>
          Developer
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../">
        Introduction
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../coding_standards/">
        Coding Standards
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../data_engineering/">
        Data Engineering
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../database_support_scripts/">
        Database Support Scripts
      </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="nav-5-5" id="nav-5-5" type="checkbox"/>
<label class="md-nav__link" for="nav-5-5">
        Frontend
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Frontend" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="nav-5-5">
<span class="md-nav__icon md-icon"></span>
          Frontend
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../component_vs_page/">
        Component vs Page
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../feathers_redux/">
        Transport/Integration Layer (Feathers-redux)
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Notifications with Redux Saga
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Notifications with Redux Saga
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#how-does-it-work-simplified">
    How does it work? (Simplified)
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#configuration">
    Configuration
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#what-do-you-have-to-do-to-use-it">
    What do you have to do to use it?
  </a>
<nav aria-label="What do you have to do to use it?" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#defining-a-saga-action">
    Defining a Saga Action
  </a>
<nav aria-label="Defining a Saga Action" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#available-types-in-feathers-redux">
    Available Types in Feathers-Redux
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#service-calls">
    Service Calls
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#notications-component">
    Notications Component
  </a>
<nav aria-label="Notications Component" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#setup">
    Setup
  </a>
<nav aria-label="Setup" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#snackbarprovider">
    SnackbarProvider
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#notification-custom-component">
    Notification Custom Component
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-6" id="nav-5-6" type="checkbox"/>
<label class="md-nav__link" for="nav-5-6">
        Backend
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Backend" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="nav-5-6">
<span class="md-nav__icon md-icon"></span>
          Backend
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../backend/permission/">
        Permission
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../backend/services/">
        Services
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../changelog/">
        Changelog
      </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#how-does-it-work-simplified">
    How does it work? (Simplified)
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#configuration">
    Configuration
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#what-do-you-have-to-do-to-use-it">
    What do you have to do to use it?
  </a>
<nav aria-label="What do you have to do to use it?" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#defining-a-saga-action">
    Defining a Saga Action
  </a>
<nav aria-label="Defining a Saga Action" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#available-types-in-feathers-redux">
    Available Types in Feathers-Redux
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#service-calls">
    Service Calls
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#notications-component">
    Notications Component
  </a>
<nav aria-label="Notications Component" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#setup">
    Setup
  </a>
<nav aria-label="Setup" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#snackbarprovider">
    SnackbarProvider
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#notification-custom-component">
    Notification Custom Component
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/uwasystemhealth/IndEAA/edit/master/docs/developer/frontend/notifications.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"></path></svg>
</a>
<h1 id="notifications-with-redux-saga">Notifications with Redux Saga<a class="headerlink" href="#notifications-with-redux-saga" title="Permanent link">¶</a></h1>
<p>Redux Saga is a library that aims to make application side effects (more info in the <a href="https://redux-saga.js.org/">documentation</a>) mainly for the following:</p>
<ul>
<li>easier to manage after effects</li>
<li>better error handling</li>
</ul>
<p>In IndEAA, this is used for notifications handling whenever a feathers request finished.</p>
<h2 id="how-does-it-work-simplified">How does it work? (Simplified)<a class="headerlink" href="#how-does-it-work-simplified" title="Permanent link">¶</a></h2>
<p>As you know, whenever you are dispatching an action to the store, Redux goes through the middleware that is setup with it.</p>
<details class="info"><summary>Logger</summary><p>This is how the logger functions to know which action has been dispatched.</p>
</details>
<p>Redux Saga essentially takes advantage of that to know which action has been dispatched, and from there, it can do whatever.</p>
<h2 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">¶</a></h2>
<p>Here are the steps to configure Redux Saga. Assuming you have already installed it</p>
<details class="example" open="open"><summary>1. Add Saga Middleware</summary><p>For IndEAA, this can be found in <code>client/middleware/index.js</code>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">import</span> <span class="nx">createSagaMiddleware</span> <span class="nx">from</span> <span class="s2">"redux-saga"</span>
<span class="p">...</span>
<span class="c1">// This needs to be activated after applying it to the storep</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">sagaMiddleware</span> <span class="o">=</span> <span class="nx">createSagaMiddleware</span><span class="p">()</span>
<span class="p">...</span>
<span class="k">export</span> <span class="k">default</span><span class="p">[</span>
    <span class="p">...</span>
     <span class="nx">sagaMiddleware</span><span class="p">,</span>
    <span class="p">...</span>
<span class="p">]</span>
</code></pre></div>
</td></tr></table></p>
</details>
<details class="example" open="open"><summary>2. Run the middleware after the store has been created</summary><p>For IndEAA, this can be found in <code>client/store/feathersClient.js</code>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">import</span> <span class="p">{</span> <span class="nx">sagaMiddleware</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">"../middleware"</span>
<span class="k">import</span> <span class="nx">feathersSaga</span> <span class="nx">from</span> <span class="s2">"./feathersSaga"</span> <span class="c1">// This will be all your custom Saga Actions</span>
<span class="p">...</span>

<span class="kd">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nx">configureStore</span><span class="p">(</span><span class="nx">rawServices</span><span class="p">);</span>

<span class="c1">// Run all Saga Middlewares</span>
<span class="nx">sagaMiddleware</span><span class="p">.</span><span class="nx">run</span><span class="p">(</span><span class="nx">feathersSaga</span><span class="p">)</span>
</code></pre></div>
</td></tr></table></p>
</details>
<p>With these two steps, Redux Saga is ready for action! See more below on how to use it.</p>
<h2 id="what-do-you-have-to-do-to-use-it">What do you have to do to use it?<a class="headerlink" href="#what-do-you-have-to-do-to-use-it" title="Permanent link">¶</a></h2>
<p>To use it, there are two main steps below</p>
<h3 id="defining-a-saga-action">Defining a Saga Action<a class="headerlink" href="#defining-a-saga-action" title="Permanent link">¶</a></h3>
<p>To use it, you have to define a Saga action in <code>client/store/feathersSaga.js</code></p>
<p>The most common structure will look something like this:</p>
<details class="example" open="open"><summary>Common Structure</summary><p><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">yield</span> <span class="nx">takeEvery</span><span class="p">(</span><span class="nx">services</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">types</span><span class="p">.</span><span class="nx">SERVICES_USERS_CREATE_FULFILLED</span><span class="p">,</span> <span class="kd">function</span><span class="o">*</span> <span class="p">(</span><span class="nx">action</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="p">{</span> <span class="nx">payload</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">action</span>
        <span class="c1">// Payload is the dispatch action items</span>
        <span class="k">yield</span> <span class="nx">put</span><span class="p">(</span><span class="nx">addNotificationMessageParams</span><span class="p">({</span>
            <span class="nx">message</span><span class="o">:</span> <span class="sb">`User (</span><span class="si">${</span><span class="nx">payload</span><span class="p">.</span><span class="nx">email</span><span class="si">}</span><span class="sb">) has been successfully created`</span>
        <span class="p">}))</span>
    <span class="p">});</span>
</code></pre></div>
</td></tr></table>
The first parameter is the "type". When dealing with feathers types please refer to information <a href="https://github.com/feathersjs-ecosystem/feathers-redux#documentation-reduxifyservices">here </a>where types and Redux Saga is mentioned. The second parameter is a generator callback function (it uses <code>yield</code> instead of <code>return</code>)</p>
<p><code>put</code> is a custom dispatch action for Redux Saga</p>
</details>
<h4 id="available-types-in-feathers-redux">Available Types in Feathers-Redux<a class="headerlink" href="#available-types-in-feathers-redux" title="Permanent link">¶</a></h4>
<p>Referring to the Feathers Redux documentation, the main types are as follows</p>
<ul>
<li>PENDING</li>
<li>FULFILLED</li>
<li>REJECTED</li>
</ul>
<h3 id="service-calls">Service Calls<a class="headerlink" href="#service-calls" title="Permanent link">¶</a></h3>
<p>When the saga action is defined, service calls that can have notifications are easy peasy.</p>
<details class="example" open="open"><summary>Example of Service Call that will have notification</summary><p><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c1">// Found in the User Creation Modal</span>
  <span class="kd">const</span> <span class="nx">createUser</span> <span class="o">=</span> <span class="k">async</span> <span class="p">(</span><span class="nx">email</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">services</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span> <span class="nx">email</span> <span class="p">})</span>
        <span class="nx">closeModal</span><span class="p">();</span>
        <span class="nx">setCurrentUserSelected</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Handled by Redux Saga</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
It is a simple as that. Do your call, and of course catch the error (because what if you have BadRequest or lost internet connection). You don't need to do anything after the error unless you want to, but essentially Redux Saga will handle error reporting for you when you setup that.</p>
</details>
<h2 id="notications-component">Notications Component<a class="headerlink" href="#notications-component" title="Permanent link">¶</a></h2>
<p>The notification component uses a library called <a href="https://github.com/iamhosseindhv/notistack">notistack</a> which enables notification to be stacked. Check out the documentation for more information.</p>
<h3 id="setup">Setup<a class="headerlink" href="#setup" title="Permanent link">¶</a></h3>
<p>There is 1 library component imported (<code>SnackbarProvider</code>), and 1 custom component <code>Notification</code> created to make this happen. See <code>components/Layout/ContentWrapper.js</code></p>
<h4 id="snackbarprovider">SnackbarProvider<a class="headerlink" href="#snackbarprovider" title="Permanent link">¶</a></h4>
<p>It can be seen that the components are wrapped:
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>const ContentWrapper = ({ children }) =&gt; (
&lt;SnackbarProvider maxSnack={3}&gt;
    &lt;Notification&gt;&lt;/Notification&gt;
   ...
&lt;/SnackbarProvider&gt;
)
</code></pre></div>
</td></tr></table></p>
<p>This is essentially a component that uses context to display notifications which means that this is separate from the Redux.</p>
<details class="info"><summary>Context and Redux</summary><p>Context is almost the same thing as redux, both are used for state management, but context is built in React. The point of this information is to point that the <code>SnackbarProvider</code> data store/context is different from the Redux Store. Hence, it needs to be reconciled or coordinated when we used them both.</p>
</details>
<h4 id="notification-custom-component">Notification Custom Component<a class="headerlink" href="#notification-custom-component" title="Permanent link">¶</a></h4>
<p>The notification component, is special such that it doesn't render anything. It is simply a shell component that enables code to run upon modification of the notification redux store in order to modify the notistack context data store.</p>
<details class="info"><summary>Why are we using Redux for managing notification</summary><p>notistack library only enables <code>enqueueSnackbar</code> either using class-component or functional component by hooks. These hooks cannot be called whenever using Redux Saga, because those are not components.</p>
</details>
</article>
</div>
</div>
</main>
<!--
  Copyright (c) 2016-2020 Martin Donath <martin.donath@squidfunk.com>
  Modified by Frinze Erin Lapuz < https://github.com/frinzekt > for his own template
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->
<!-- Application footer -->
<footer class="md-footer">
<!-- Link to previous and/or next page -->
<div class="md-footer-nav">
<nav aria-label="Footer" class="md-footer-nav__inner md-grid">
<!-- Link to previous page -->
<a class="md-footer-nav__link md-footer-nav__link--prev" href="../feathers_redux/" rel="prev" title="Transport/Integration Layer (Feathers-redux)">
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Previous
                </span>
                Transport/Integration Layer (Feathers-redux)
              </div>
</div>
</a>
<!-- Link to next page -->
<a class="md-footer-nav__link md-footer-nav__link--next" href="../../backend/permission/" rel="next" title="Permission">
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Next
                </span>
                Permission
              </div>
</div>
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
</div>
<!-- Further information -->
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<!-- Copyright and theme information -->
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
            Copyright System Health Lab <script>document.write(new Date().getFullYear())</script>
</div> Web Documentation Setup by <a href="https://frinzelapuz.now.sh/">Frinze Erin Lapuz</a> and Michael Nef
        
      </div>
<!-- Social links -->
</div>
</div>
</footer>
</div>
<script src="../../../assets/javascripts/vendor.53cc9318.min.js"></script>
<script src="../../../assets/javascripts/bundle.e9c9f54f.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
<script>
        app = initialize({
          base: "../../..",
          features: ['navigation.tabs'],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.9c0e82ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
<script src="https://unpkg.com/mermaid@8.8.2/dist/mermaid.min.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</body>
</html>